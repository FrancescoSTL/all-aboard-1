dependencies:
  override:
    - npm install

deployment:
  master:
    branch: master
    owner: mozilla
    commands:
        - git config --global user.name "circleci"
        - git config --global user.email "sneethling@mozilla.com"
        - npm run build-xpi
        - git add --all
        - git commit -m 'Latest automated XPI build from CircleCI'
        - git push mozilla master

general:
    branches:
        only:
            - master
